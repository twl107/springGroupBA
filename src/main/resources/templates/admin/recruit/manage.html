<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>ì±„ìš© ê´€ë¦¬</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" th:href="@{/css/admin.css}">

  <style>
    .switch {
      position: relative;
      display: inline-block;
      width: 55px;
      height: 28px;
    }
    .switch input { display: none; }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0; left: 0; right: 0; bottom: 0;
      background-color: #ccc;
      transition: .4s;
      border-radius: 34px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 22px;
      width: 22px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }

    input:checked + .slider {
      background-color: #28a745;
    }
    input:checked + .slider:before {
      transform: translateX(26px);
    }
  </style>
</head>

<body>

<!-- ì‚¬ì´ë“œë°” -->
<div th:replace="~{admin/adminLeft :: sidebar}"></div>

<main class="admin-content">

  <div th:if="${msg}" class="alert alert-success alert-dismissible fade show mt-2" role="alert">
    <span th:text="${msg}"></span>
    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
  </div>

  <button class="btn btn-outline-secondary d-lg-none mb-3" onclick="toggleSidebar()">â˜° ë©”ë‰´</button>

  <h2 class="fw-bold mb-4">ì±„ìš© ê´€ë¦¬</h2>

  <!-- =============================== -->
  <!-- ğŸ”¥ 1) ì±„ìš© ìƒíƒœ í† ê¸€ Card -->
  <!-- =============================== -->
  <div class="card shadow-sm p-4 mb-4">
    <h5 class="mb-3">ì±„ìš© ìƒíƒœ</h5>

    <form th:action="@{/admin/recruit/toggle}" method="post">

      <div class="d-flex align-items-center justify-content-between">

        <!-- ìƒíƒœ í…ìŠ¤íŠ¸ í‘œì‹œ -->
        <span class="fw-bold"
              th:text="${cfg.open} ? 'â— ëª¨ì§‘ì¤‘' : 'â— ëª¨ì§‘ ë§ˆê°'"
              th:classappend="${cfg.open} ? 'text-success' : 'text-danger'">
        </span>

        <!-- í† ê¸€ ìŠ¤ìœ„ì¹˜ -->
        <label class="switch">
          <input type="checkbox"
                 name="open"
                 th:checked="${cfg.open}"
                 onchange="this.form.submit()">
          <span class="slider round"></span>
        </label>
      </div>
    </form>
  </div>



  <!-- ====================================== -->
  <!-- ğŸ”¥ 2) ì§ë¬´ë³„ ì•ˆë‚´ ë‚´ìš© Card -->
  <!-- ====================================== -->
  <div class="card shadow-sm p-4">

    <h5 class="mb-3">ì§ë¬´ë³„ ì•ˆë‚´</h5>

    <form th:action="@{/admin/recruit/save}" method="post">
      <input type="hidden" name="id" th:value="${cfg.id}">

      <!-- ë°±ì—”ë“œ -->
      <div class="mb-3">
        <label class="fw-semibold mb-1">ë°±ì—”ë“œ</label>
        <textarea class="form-control" name="backendDesc" rows="3"
                  th:text="${cfg.backendDesc}"></textarea>
      </div>

      <!-- í”„ë¡ íŠ¸ -->
      <div class="mb-3">
        <label class="fw-semibold mb-1">í”„ë¡ íŠ¸</label>
        <textarea class="form-control" name="frontDesc" rows="3"
                  th:text="${cfg.frontDesc}"></textarea>
      </div>

      <!-- ì„ë² ë””ë“œ -->
      <div class="mb-3">
        <label class="fw-semibold mb-1">ì„ë² ë””ë“œ</label>
        <textarea class="form-control" name="embeddedDesc" rows="3"
                  th:text="${cfg.embeddedDesc}"></textarea>
      </div>

      <!-- AI -->
      <div class="mb-3">
        <label class="fw-semibold mb-1">AI</label>
        <textarea class="form-control" name="aiDesc" rows="3"
                  th:text="${cfg.aiDesc}"></textarea>
      </div>

      <!-- IoT -->
      <div class="mb-3">
        <label class="fw-semibold mb-1">IoT</label>
        <textarea class="form-control" name="iotDesc" rows="3"
                  th:text="${cfg.iotDesc}"></textarea>
      </div>

      <div class="text-end mt-4">
        <button type="submit" class="btn btn-primary px-4">ì•ˆë‚´ ë‚´ìš© ì €ì¥</button>
      </div>

    </form>
  </div>

</main>


<script>
  function toggleSidebar() {
    document.querySelector('.admin-sidebar').classList.toggle('active');
  }
</script>

</body>
</html>
