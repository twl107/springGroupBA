<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ê·¸ë¦°ì†Œí”„íŠ¸</title>
    <link rel="stylesheet" th:href="@{/css/layout.css}">
    <link rel="stylesheet" th:href="@{/css/contact.css}">
    <script type="text/javascript" th:src="@{'https://openapi.map.naver.com/openapi/v3/maps.js?ncpKeyId='+${ncpKeyId}}"></script>
</head>
<body>
<div th:replace="~{include/header :: header}"></div>
<main class="main-content">
    <section class="sub-visual" th:style="'background-image: url(' + @{/images/content/contact1.jpg} + ');'">
        <div class="sub-visual-content">
            <h2>CONTACT</h2>
            <p>(ì£¼)ê·¸ë¦°ì†Œí”„íŠ¸ë¡œ ì˜¤ì‹œëŠ” ê¸¸ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.</p>
        </div>
    </section>
    <div class="sub-content-container">
        <div id="map"></div>
        <section class="contact-info-section">
            <div class="info-block">
                <h4>ì£¼ì†Œ</h4>
                <p>
                    <strong>[ë„ë¡œëª…]</strong><br>
                    ì¶©ì²­ë¶ë„ ì²­ì£¼ì‹œ ì„œì›êµ¬ ì‚¬ì§ëŒ€ë¡œ 109 4ì¸µ
                </p>
                <p>
                    <strong>[ì§€ë²ˆ]</strong><br>
                    ì¶©ì²­ë¶ë„ ì²­ì£¼ì‹œ ì„œì›êµ¬ ì‚¬ì°½ë™ 148-7 4ì¸µ
                </p>
            </div>

            <div class="info-block">
                <h4>ì—°ë½ì²˜</h4>
                <p>
                    <strong>ëŒ€í‘œì „í™”</strong><br>
                    043-123-4567
                </p>
            </div>

            <div class="info-block directions">
                <h4>ì°¾ì•„ì˜¤ì‹œëŠ” ê¸¸</h4>

                <h5>ë²„ìŠ¤ ì´ìš© ì‹œ</h5>
                <p><strong>[ê°„ì„ ë²„ìŠ¤]</strong> 814, 114, 618</p>
                <p><strong>[ì¼ë°˜ë²„ìŠ¤]</strong> 20-2, 311, 40-1, 511, 514, 516, 611, 711, 811-2, 823, 831, 911, 917, 916-1, 101</p>
                <p><strong>[ê¸‰í–‰ë²„ìŠ¤]</strong> 747, 109, 509</p>

                <h5>ìê°€ìš© ì´ìš© ì‹œ</h5>
                <p>
                    ë„¤ë¹„ê²Œì´ì…˜ ì£¼ì†Œ ì…ë ¥ : ì¶©ì²­ë¶ë„ ì²­ì£¼ì‹œ ì„œì›êµ¬ ì‚¬ì§ëŒ€ë¡œ 109
                </p>
            </div>
        </section>
    </div>
</main>

<div th:replace="~{include/footer :: footer}"></div>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        const mapContainer = document.getElementById('map');

        const lat = 36.6351643;
        const lng = 127.4595427;
        const companyName = "(ì£¼)ê·¸ë¦°ì†Œí”„íŠ¸";

        const mapLocation = new naver.maps.LatLng(lat, lng);

        if (!naver.maps) {
            console.error("Naver Maps APIê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.");
            mapContainer.innerHTML = "<p style='text-align:center; padding: 20px;'>ì§€ë„ APIë¥¼ ë¡œë“œí•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. Client IDë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.</p>";
            return;
        }

        const mapOptions = {
            center: mapLocation,
            zoom: 18,
            zoomControl: true,
            zoomControlOptions: {
                position: naver.maps.Position.TOP_RIGHT
            }
        };

        const map = new naver.maps.Map(mapContainer, mapOptions);

        const marker = new naver.maps.Marker({
            position: mapLocation,
            map: map,
            animation: naver.maps.Animation.BOUNCE // ë§ˆì»¤ ê°•ì¡° ì• ë‹ˆë©”ì´ì…˜
        });

        const directionsUrl = `https://map.naver.com/p/directions/-/${lng},${lat},${encodeURIComponent(companyName)}/-/transit`;
        const contentString = `
            <div style="padding:15px; min-width:200px; text-align:center;">
                <div style="font-weight:600; font-size:15px; margin-bottom:5px;">${companyName}</div>
                <div style="font-size:13px; color:#666; margin-bottom:10px;">ì¶©ë¶ ì²­ì£¼ì‹œ ì„œì›êµ¬ ì‚¬ì§ëŒ€ë¡œ 109 4ì¸µ</div>
                <a href="${directionsUrl}" target="_blank" class="btn-find-way">
                    ğŸšŒ ëŒ€ì¤‘êµí†µ ê¸¸ì°¾ê¸°
                </a>
            </div>
        `;

        const infoWindow = new naver.maps.InfoWindow({
            content: contentString,
            maxWidth: 300,
            backgroundColor: "#ffffff",
            borderColor: "#007bff",
            borderWidth: 1,
            anchorSize: new naver.maps.Size(10, 10),
            anchorSkew: true,
            pixelOffset: new naver.maps.Point(20, -20)
        });

        naver.maps.Event.addListener(marker, "click", function() {
            if (infoWindow.getMap()) {
                infoWindow.close();
            } else {
                infoWindow.open(map, marker);
            }
        });

        infoWindow.open(map, marker);
    });
</script>

</body>
</html>