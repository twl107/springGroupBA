<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ê·¸ë¦°ì†Œí”„íŠ¸ - ë©”ì„¸ì§€</title>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">'
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <link rel="stylesheet" th:href="@{/css/layout.css}">
  <link rel="stylesheet" th:href="@{/css/member/main.css}">

  <th:block th:if="${userCsrf}">
    <meta name="_csrf" th:content="${_csrf.token}" />
    <meta name="_csrf_header" th:content="${_csrf.headerName}">
  </th:block>

  <style>
    .sub-visual {
        width: 100%;
        height: 250px;
        background-size: cover;
        background-position: center;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
        margin-top: -30px;
    }

    .sub-visual::before {
        content: '';
        position: absolute;
        top: 0; left: 0; right: 0; bottom: 0;
        background: rgba(0, 0, 0, 0.4); /* í…ìŠ¤íŠ¸ ê°€ë…ì„±ì„ ìœ„í•œ ì–´ë‘ìš´ ì˜¤ë²„ë ˆì´ */
    }

    .sub-visual-content {
        position: relative;
        z-index: 1;
        text-align: center;
        color: #fff;
    }

    .sub-visual-content h2 {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 0;
        text-shadow: 0 2px 4px rgba(0,0,0,0.5);
    }

    .msg-container {
        max-width: 1200px;
        margin: 60px auto;
        padding: 0 20px;
        display: flex;
        gap: 40px;
        min-height: 600px;
    }

    .msg-sidebar {
        width: 240px;
        flex-shrink: 0;
    }

    .msg-menu-card {
        background: #fff;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    .msg-menu-header {
        background-color: #f8f9fa;
        padding: 20px;
        border-bottom: 1px solid #eee;
        font-size: 1.1rem;
        font-weight: 700;
        color: #333;
    }

    .msg-menu-list {
        list-style: none;
        padding: 10px;
        margin: 0;
    }

    .msg-menu-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 12px 15px;
        margin-bottom: 2px;
        border-radius: 6px;
        color: #555;
        font-size: 0.95rem;
        text-decoration: none;
        transition: all 0.2s;
    }

    .msg-menu-item:hover {
        background-color: #f1f3f5;
        color: #333;
    }

    .msg-menu-item.active {
        background-color: #e3f2fd;
        color: #007bff;
        font-weight: 600;
    }

    .msg-menu-item.danger {
        color: #dc3545;
    }
    .msg-menu-item.danger:hover {
        background-color: #fff5f5;
    }

    .msg-content-area {
        flex: 1;
        background: #fff;
    }

    .msg-header {
        border-bottom: 2px solid #333;
        padding-bottom: 15px;
        margin-bottom: 30px;
    }

    .msg-header h3 {
        font-size: 1.5rem;
        font-weight: 700;
        color: #333;
        margin: 0;
    }

    .badge-new {
        background-color: #dc3545;
        color: white;
        font-size: 0.7rem;
        padding: 3px 7px;
        border-radius: 12px;
        font-weight: normal;
    }

    @media (max-width: 992px) {
        .msg-container {
            flex-direction: column;
        }
        .msg-sidebar {
            width: 100%;
            margin-bottom: 30px;
        }
        .sub-visual {
            height: 180px;
        }
    }
  </style>
</head>

<body>
<div th:replace="~{include/header :: header}"></div>

<main class="main-content">
  <section class="sub-visual" th:style="'background-image: url(' + @{/images/content/img_visual01.jpg} + ');'">
    <div class="sub-visual-content">
      <h2>ë©”ì„¸ì§€í•¨</h2>
    </div>
  </section>

  <div class="msg-container">
    <aside class="msg-sidebar">
      <div class="msg-menu-card">
        <div class="msg-menu-header">ë©”ì„¸ì§€ ë©”ë‰´</div>
        <ul class="msg-menu-list">
          <li>
            <a th:href="@{/webMessage/msg(msgSw=0)}"
               class="msg-menu-item"
               th:classappend="${pageVO != null && pageVO.msgSw == 0} ? 'active' : ''">
              <span>âœï¸ ë©”ì„¸ì§€ ì‘ì„±</span>
            </a>
          </li>
          <li>
            <a th:href="@{/webMessage/msg(msgSw=1)}"
               class="msg-menu-item"
               th:classappend="${pageVO != null && pageVO.msgSw == 1} ? 'active' : ''">
              <span>ğŸ“¥ ë°›ì€ ë©”ì„¸ì§€</span>
            </a>
          </li>
          <li>
            <a th:href="@{/webMessage/msg(msgSw=2)}"
               class="msg-menu-item"
               th:classappend="${pageVO != null && pageVO.msgSw == 2} ? 'active' : ''">
                            <span>
                                ğŸ†• ìƒˆ ë©”ì„¸ì§€
                                <span id="newMsgCount" class="badge-new"
                                      th:text="${newMsgCount > 0 ? newMsgCount : ''}"
                                      th:style="${newMsgCount > 0 ? '' : 'display:none'}"></span>
                            </span>
            </a>
          </li>
          <li>
            <a th:href="@{/webMessage/msg(msgSw=3)}"
               class="msg-menu-item"
               th:classappend="${pageVO != null && pageVO.msgSw == 3} ? 'active' : ''">
              <span>ğŸ“¤ ë³´ë‚¸ ë©”ì„¸ì§€</span>
            </a>
          </li>
          <li>
            <a th:href="@{/webMessage/msg(msgSw=4)}"
               class="msg-menu-item"
               th:classappend="${pageVO != null && pageVO.msgSw == 4} ? 'active' : ''">
              <span>ğŸ‘€ ìˆ˜ì‹  í™•ì¸</span>
            </a>
          </li>
          <li>
            <a th:href="@{/webMessage/msg(msgSw=5)}"
               class="msg-menu-item"
               th:classappend="${pageVO != null && pageVO.msgSw == 5} ? 'active' : ''">
              <span>ğŸ—‘ï¸ íœ´ì§€í†µ</span>
            </a>
          </li>
        </ul>
        <div style="border-top: 1px solid #eee; margin: 5px 10px;"></div>
        <ul class="msg-menu-list">
          <li>
            <a th:href="@{/webMessage/msg(msgSw=9)}"
               class="msg-menu-item danger"
               onclick="return confirm('íœ´ì§€í†µì„ ì •ë§ ë¹„ìš°ì‹œê² ìŠµë‹ˆê¹Œ?');">
              <span>ğŸ§¹ íœ´ì§€í†µ ë¹„ìš°ê¸°</span>
            </a>
          </li>
        </ul>
      </div>
    </aside>

    <div class="msg-content-area">
      <th:block th:if="${pageVO != null}" th:switch="${pageVO.msgSw}">

        <th:block th:case="0">
          <div class="msg-header"><h3>ë©”ì„¸ì§€ ì‘ì„±</h3></div>
          <th:block th:insert="~{member/webMessage/msgInput}"></th:block>
        </th:block>

        <th:block th:case="1">
          <div class="msg-header"><h3>ë°›ì€ ë©”ì„¸ì§€í•¨</h3></div>
          <th:block th:insert="~{member/webMessage/msgList}"></th:block>
        </th:block>

        <th:block th:case="2">
          <div class="msg-header"><h3>ìƒˆ ë©”ì„¸ì§€í•¨</h3></div>
          <th:block th:insert="~{member/webMessage/msgList}"></th:block>
        </th:block>

        <th:block th:case="3">
          <div class="msg-header"><h3>ë³´ë‚¸ ë©”ì„¸ì§€í•¨</h3></div>
          <th:block th:insert="~{member/webMessage/msgList}"></th:block>
        </th:block>

        <th:block th:case="4">
          <div class="msg-header"><h3>ìˆ˜ì‹  í™•ì¸</h3></div>
          <th:block th:insert="~{member/webMessage/msgList}"></th:block>
        </th:block>

        <th:block th:case="5">
          <div class="msg-header"><h3>íœ´ì§€í†µ</h3></div>
          <th:block th:insert="~{member/webMessage/msgList}"></th:block>
        </th:block>

        <th:block th:case="6">
          <div class="msg-header"><h3>ë©”ì„¸ì§€ ë‚´ìš©ë³´ê¸°</h3></div>
          <th:block th:insert="~{member/webMessage/msgContent}"></th:block>
        </th:block>

      </th:block>
    </div>
  </div>
</main>

<div th:replace="~{include/footer :: footer}"></div>

</body>
</html>