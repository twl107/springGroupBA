<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>BizMonitor ì„¤ë¬¸ ì¡°ì‚¬</title>

  <style>
    body {
        background: #f3f4f6;
        font-family: 'Pretendard', sans-serif;
        padding: 40px 0;
    }
    .survey-container {
        background: white;
        width: 90%;
        max-width: 900px;
        margin: auto;
        padding: 30px 40px;
        border-radius: 12px;
        box-shadow: 0 3px 12px rgba(0,0,0,0.12);
    }
    h2 {
        margin: 0 0 20px 0;
        font-size: 28px;
        color: #009b69;
    }
    .question {
        margin-bottom: 28px;
    }
    .question-title {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 12px;
    }
    textarea {
        width: 100%;
        border: 1px solid #ccc;
        border-radius: 6px;
        padding: 8px;
        font-size: 15px;
    }
    select {
        width: 100%;
        padding: 8px;
        border-radius: 6px;
    }
    button {
        margin-top: 35px;
        padding: 14px 28px;
        font-size: 17px;
        background: #009b69;
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        width: 100%;
        font-weight: bold;
    }
    button:hover {
        background: #007c53;
    }
  </style>
</head>
<body>

<div class="survey-container">

  <h2>ğŸ“Š BizMonitor ê¸°ëŠ¥ ì„¤ë¬¸ ì¡°ì‚¬</h2>
  <p style="color:#666;">BizSoft ì‚°ì—… ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ ê°œì„ ì„ ìœ„í•´ ê·€ì¤‘í•œ ì˜ê²¬ì„ ë“£ê³ ì í•©ë‹ˆë‹¤.</p>
  <br>

  <h2 th:text="${meta.title}"></h2>
  <p th:text="${meta.description}" style="margin-bottom:25px;"></p>

  <form th:action="@{/survey/submit}" method="post">
    <input type="hidden" name="surveyId" th:value="${meta.id}">

    <div th:each="item,iter : ${formList}" class="question">

      <p class="question-title">
        <span th:text="${iter.index + 1}"></span>.
        <span th:text="${item.question.questionText}"></span>
      </p>

      <!-- SINGLE -->
      <div th:if="${item.question.questionType.name() == 'SINGLE'}">
        <div th:each="c : ${item.choices}">
          <label>
            <input type="radio" th:name="${'q' + item.question.id}" th:value="${c.choiceText}">
            <span th:text="${c.choiceText}"></span>
          </label>
        </div>
      </div>

      <!-- MULTI -->
      <div th:if="${item.question.questionType.name() == 'MULTI'}">
        <div th:each="c : ${item.choices}">
          <label>
            <input type="checkbox" th:name="${'q' + item.question.id}" th:value="${c.choiceText}">
            <span th:text="${c.choiceText}"></span>
          </label>
        </div>
      </div>

      <!-- TEXT -->
      <div th:if="${item.question.questionType.name() == 'TEXT'}">
        <textarea th:name="${'q' + item.question.id}" rows="3" placeholder="ë‹µë³€ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"></textarea>
      </div>

      <!-- SELECT -->
      <div th:if="${item.question.questionType.name() == 'SELECT'}">
        <select th:name="${'q' + item.question.id}">
          <option value="">-- ì„ íƒí•´ì£¼ì„¸ìš” --</option>
          <option th:each="c : ${item.choices}"
                  th:value="${c.choiceText}"
                  th:text="${c.choiceText}">
          </option>
        </select>
      </div>

      <!-- RATING -->
      <div th:if="${item.question.questionType.name() == 'RATING'}" style="font-size:22px;">
        <label><input type="radio" th:name="${'q' + item.question.id}" value="1"> â­</label>
        <label><input type="radio" th:name="${'q' + item.question.id}" value="2"> â­â­</label>
        <label><input type="radio" th:name="${'q' + item.question.id}" value="3"> â­â­â­</label>
        <label><input type="radio" th:name="${'q' + item.question.id}" value="4"> â­â­â­â­</label>
        <label><input type="radio" th:name="${'q' + item.question.id}" value="5"> â­â­â­â­â­</label>
      </div>

    </div>

    <button type="submit">ì œì¶œí•˜ê¸°</button>
  </form>

</div>

</body>
</html>
