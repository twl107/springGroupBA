<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Daily Sensor Report</title>

    <!-- 공통 -->
    <link rel="stylesheet" th:href="@{/css/layout.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <!-- 전용 CSS -->
    <link rel="stylesheet" th:href="@{/css/sensor/dailyReport.css}">
</head>

<body>
<div th:replace="~{include/header :: header}"></div>

<script th:inline="javascript">
    const ctx = /*[[@{/}]]*/ "/";
</script>

<!-- ================= TOP FILTER ================= -->
<section class="top-filter">

    <div class="title-wrap">
        <h1>BizMonitor Dashboard</h1>
        <div class="subtitle">Daily Sensor Report (DB Snapshot / Simulation)</div>
    </div>

    <div class="filter-wrap">

        <div class="field">
            <label>날짜</label>
            <input type="date" id="reportDate">
        </div>

        <div class="field">
            <label>시간</label>
            <input type="time" id="reportTime" step="1">
        </div>

        <div class="field">
            <label>디바이스</label>
            <select id="deviceSelect">
                <option value="ENV_V2_1">ENV_V2_1</option>
                <option value="ENV_V2_2">ENV_V2_2</option>
                <option value="ENV_V2_3">ENV_V2_3</option>
                <option value="ENV_V2_4">ENV_V2_4</option>
            </select>
        </div>

        <button class="top-btn" id="loadBtn">
            <i class="fa-solid fa-magnifying-glass"></i> 조회
        </button>

    </div>
</section>

<!-- ================= VIRTUAL CLOCK ================= -->
<div class="simulation-clock">
    <div class="clock-label">SIMULATION TIME</div>
    <div class="clock-time" id="virtualTime">00:00:00</div>
</div>

<!-- ================= DASHBOARD ================= -->
<main class="dashboard-layout">

    <!-- LEFT : SENSOR GRID -->
    <section class="dashboard-left">
        <h2 class="section-title">Sensor Status</h2>

        <div id="sensorGrid" class="sensor-grid">
            <!-- JS 렌더링 영역 -->
        </div>
    </section>

    <!-- RIGHT : WEATHER / INFO -->
    <aside class="dashboard-right">
        <div id="weatherBox" class="weather-box"></div>
    </aside>

</main>

<!-- ================= MODAL ================= -->
<div id="sensorModal" class="modal-overlay">
    <div class="modal-box">
        <h3 id="modalSensorName">센서 임계값 설정</h3>

        <div class="modal-section">
            <label>최소값 (Min)</label>
            <input type="number" id="thresholdMin">
        </div>

        <div class="modal-section">
            <label>최대값 (Max)</label>
            <input type="number" id="thresholdMax">
        </div>

        <div class="modal-section">
            <label>활성 여부</label>
            <select id="sensorActive">
                <option value="Y">활성</option>
                <option value="N">비활성</option>
            </select>
        </div>

        <button id="btnSaveThreshold">저장</button>
    </div>
</div>

<!-- JS (다음 단계에서 구현) -->
<script th:src="@{/js/dailyReport.js}"></script>

<div th:replace="~{include/footer :: footer}"></div>
</body>
</html>
